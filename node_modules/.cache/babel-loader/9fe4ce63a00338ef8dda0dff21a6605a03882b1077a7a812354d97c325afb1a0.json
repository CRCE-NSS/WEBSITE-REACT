{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DELL/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/DELL/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// src\\components\\pages\\views\\Vol_Data.jsx\nimport React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Vol_Data(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),volunteerData=_useState2[0],setVolunteerData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),srno=_useState4[0],setSrno=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),grandTotalHours=_useState6[0],setGrandTotalHours=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),eventsByCategory=_useState8[0],setEventsByCategory=_useState8[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,jsonData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/get-volunteer');case 3:response=_context.sent;_context.next=6;return response.json();case 6:jsonData=_context.sent;setVolunteerData(jsonData.volunteerData);setEventsByCategory(jsonData.eventsByCategory);setGrandTotalHours(jsonData.grandTotalHours);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.error('Error fetching data:',_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_context2.next=4;return fetch(\"/get-volunteer\",{method:'POST',mode:'cors',headers:{'Content-Type':'application/json'},body:JSON.stringify({srno:e.target.srno.value})});case 4:response=_context2.sent;if(response.ok){_context2.next=7;break;}throw new Error(\"HTTP error! Status: \".concat(response.status));case 7:_context2.next=9;return response.json();case 9:data=_context2.sent;// Log the data received\nconsole.log(\"Data received from server:\",data);setVolunteerData(data.volunteerData);setEventsByCategory(data.eventsByCategory);setGrandTotalHours(data.grandTotalHours);_context2.next=19;break;case 16:_context2.prev=16;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0);case 19:case\"end\":return _context2.stop();}},_callee2,null,[[1,16]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{id:\"title\",children:\"Volunteer Information\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"srno\",children:\"Enter Serial Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"srno\",name:\"srno\",value:srno,onChange:function onChange(e){return setSrno(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"btn\",children:\"Submit\"})]}),volunteerData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Volunteer Details\"}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Serial Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"VEC Number\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:volunteerData.srno}),/*#__PURE__*/_jsx(\"td\",{children:volunteerData.name}),/*#__PURE__*/_jsx(\"td\",{children:volunteerData.vecno})]})})]}),eventsByCategory.map(function(categoryData,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:categoryData.category}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Event Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Hours Allotted\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:categoryData.events.map(function(event,eventIndex){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:event.eventname}),/*#__PURE__*/_jsx(\"td\",{children:event.date?new Date(event.date).toLocaleDateString():'No Date Available'}),/*#__PURE__*/_jsx(\"td\",{children:event.hoursalloted})]},eventIndex);})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Hours for \",categoryData.category,\": \",categoryData.totalHoursCategory]})]},index);}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Grand Total Hours: \",grandTotalHours]})]})]});}export default Vol_Data;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Vol_Data","_useState","_useState2","_slicedToArray","volunteerData","setVolunteerData","_useState3","_useState4","srno","setSrno","_useState5","_useState6","grandTotalHours","setGrandTotalHours","_useState7","_useState8","eventsByCategory","setEventsByCategory","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","jsonData","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","console","error","stop","apply","arguments","handleSubmit","_ref2","_callee2","e","data","_callee2$","_context2","preventDefault","method","mode","headers","body","JSON","stringify","target","value","ok","Error","concat","status","log","_x","children","id","className","onSubmit","htmlFor","type","name","onChange","required","border","vecno","map","categoryData","index","category","events","event","eventIndex","eventname","date","Date","toLocaleDateString","hoursalloted","totalHoursCategory"],"sources":["C:/Users/DELL/Documents/Website-react/src/components/pages/views/Vol_Data.jsx"],"sourcesContent":["// src\\components\\pages\\views\\Vol_Data.jsx\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nfunction Vol_Data() {\r\n  const [volunteerData, setVolunteerData] = useState(null);\r\n  const [srno, setSrno] = useState('');\r\n  const [grandTotalHours, setGrandTotalHours] = useState(0);\r\n  const [eventsByCategory, setEventsByCategory] = useState([]);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await fetch('/get-volunteer');\r\n      const jsonData = await response.json();\r\n      setVolunteerData(jsonData.volunteerData);\r\n      setEventsByCategory(jsonData.eventsByCategory);\r\n      setGrandTotalHours(jsonData.grandTotalHours);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const response = await fetch(\"/get-volunteer\", {\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ srno: e.target.srno.value }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! Status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      // Log the data received\r\n  console.log(\"Data received from server:\", data);\r\n  \r\n      setVolunteerData(data.volunteerData);\r\n      setEventsByCategory(data.eventsByCategory);\r\n      setGrandTotalHours(data.grandTotalHours);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 id=\"title\">Volunteer Information</h1>\r\n\r\n      <form className=\"form\" onSubmit={handleSubmit}>\r\n        <label htmlFor=\"srno\">Enter Serial Number:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"srno\"\r\n          name=\"srno\"\r\n          value={srno}\r\n          onChange={(e) => setSrno(e.target.value)}\r\n          required\r\n        />\r\n        <button type=\"submit\" id=\"btn\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n\r\n      {volunteerData && (\r\n        <div>\r\n          <h2>Volunteer Details</h2>\r\n          <table border=\"1\">\r\n            <thead>\r\n              <tr>\r\n                <th>Serial Number</th>\r\n                <th>Name</th>\r\n                <th>VEC Number</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>{volunteerData.srno}</td>\r\n                <td>{volunteerData.name}</td>\r\n                <td>{volunteerData.vecno}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          {eventsByCategory.map((categoryData, index) => (\r\n            <div key={index}>\r\n              <h2>{categoryData.category}</h2>\r\n              <table border=\"1\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Event Name</th>\r\n                    <th>Date</th>\r\n                    <th>Hours Allotted</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {categoryData.events.map((event, eventIndex) => (\r\n                    <tr key={eventIndex}>\r\n                      <td>{event.eventname}</td>\r\n                      <td>\r\n                        {event.date\r\n                          ? new Date(event.date).toLocaleDateString()\r\n                          : 'No Date Available'}\r\n                      </td>\r\n                      <td>{event.hoursalloted}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n              <p>Total Hours for {categoryData.category}: {categoryData.totalHoursCategory}</p>\r\n            </div>\r\n          ))}\r\n\r\n          <br />\r\n          <p>Grand Total Hours: {grandTotalHours}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Vol_Data;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}